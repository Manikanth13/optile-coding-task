(this["webpackJsonpoptile-weather-app"]=this["webpackJsonpoptile-weather-app"]||[]).push([[0],{48:function(e,t,a){e.exports=a(59)},53:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),i=a.n(c),o=(a(53),a(12)),l=a(8),s=a(13),u=a(14),m=a(15),d=(a(54),a(78)),p=a(79),f=a(60),h=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{position:"static"},r.a.createElement(p.a,null,r.a.createElement(f.a,{variant:"h6"},"Weather App")))}}]),t}(n.PureComponent),E=a(20),v=a(84),g=a(90),y=a(91),b=a(85),C=a(89),O=a(86),j=a(80),x=a(87),I=a(88),w=a(19),T=a(81),_=a(82),A=a(83),k=a(4),D=function(e,t){return"c"===t?Number((5*(e-32)/9).toFixed(2)):e},S=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.segmentData,a=e.classes,n=e.onDayClick,c=e.selected,i=e.type;return r.a.createElement(j.a,{item:!0,xs:4},r.a.createElement(T.a,{style:{backgroundColor:c?"#bbdefb":"white"}},r.a.createElement(_.a,{onClick:n},r.a.createElement(A.a,null,r.a.createElement(f.a,{component:"div",className:a.item},r.a.createElement(f.a,{component:"div",className:a.childItem},"Temp:\xa0"),r.a.createElement(f.a,{component:"div",className:a.childItem},D(t.averagetemp,i))),r.a.createElement(f.a,{component:"div",className:a.item},r.a.createElement(f.a,{component:"div",className:a.childItem},"Date:\xa0"),r.a.createElement(f.a,{component:"div",className:a.childItem},t.day))))))}}]),t}(n.PureComponent),F=Object(k.a)((function(e){return{item:{flexGrow:1},childItem:{display:"inline-flex"}}}))(S),N=a(38),H=a.n(N),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getCategoriesAndValues=function(){var e=a.props,t=e.segments,n=e.type;return{categories:t.map((function(e){var t=e.dt_txt.split(" ")[1].split(":")[0];return"".concat(t,":00 ").concat(Number(t)<12?"AM":"PM")})),values:t.map((function(e){return D(e.main.temp,n)}))}},a.loadChart=function(){var e=a.getCategoriesAndValues(),t=e.categories,n=e.values;a.chart=H.a.chart("chart-container",{title:{text:"Weather Forecast"},yAxis:{min:0,title:{text:"Temperature (F)"}},xAxis:{title:{text:"Time (Hours)"},categories:t},series:[{type:"column",colorByPoint:!0,data:n,showInLegend:!1}]})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadChart()}},{key:"componentDidUpdate",value:function(){this.updateChart()}},{key:"updateChart",value:function(){var e=this.getCategoriesAndValues(),t=e.categories,a=e.values;this.chart.update({yAxis:{min:0,title:{text:"Temperature (".concat(this.props.type.toUpperCase(),")")}},xAxis:{categories:t},series:[{type:"column",colorByPoint:!0,data:a,showInLegend:!1}]})}},{key:"render",value:function(){return r.a.createElement("div",{id:"chart-container"})}}]),t}(n.PureComponent),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;a.setState((function(e){return Object(E.a)({},e,{tempType:t})}))},a.loadNext=function(){a.setState((function(e){return{offset:e.offset+3,selectedIndex:e.offset+3}}))},a.loadPrev=function(){a.setState((function(e){return Object(E.a)({},e,{offset:e.offset-3,selectedIndex:e.offset-3})}))},a.onSelectedDay=function(e){a.setState((function(t){return Object(E.a)({},t,{selectedIndex:t.offset+e})}))},a.state={limit:3,offset:0,tempType:"f",selectedDay:null,selectedIndex:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.weatherData,a=this.state,n=a.limit,c=a.offset,i=a.tempType,o=a.selectedIndex,l=t.length-3>c,s=t[o].segments;return r.a.createElement(v.a,{maxWidth:"md"},r.a.createElement(f.a,{component:"div",style:{backgroundColor:"#f5f5f5",height:"100vh"}},r.a.createElement(g.a,{component:"fieldset"},r.a.createElement(y.a,{"aria-label":"temperature",value:i,onChange:this.handleChange,row:!0},r.a.createElement(b.a,{value:"c",control:r.a.createElement(C.a,null),label:"Celcius"}),r.a.createElement(b.a,{value:"f",control:r.a.createElement(C.a,null),label:"Fahrenheit"}))),r.a.createElement("div",{style:{paddingLeft:30,paddingRight:30}},r.a.createElement(O.a,{style:{float:"left"},disabled:0===c,onClick:this.loadPrev,"aria-label":"Previous",limit:"medium",color:"primary"},r.a.createElement(x.a,{fontSize:"large"})),r.a.createElement(O.a,{style:{float:"right"},disabled:!l,onClick:this.loadNext,"aria-label":"Next",size:"medium",color:"primary"},r.a.createElement(I.a,{fontSize:"large"}))),r.a.createElement("div",{style:{padding:30}},r.a.createElement(j.a,{container:!0,alignContent:"center",justify:"center",spacing:3},t.slice(c,n+c).map((function(t,a){return r.a.createElement(F,{key:a,selected:o-c===a,onDayClick:function(){return e.onSelectedDay(a)},segmentData:t,type:i})})))),r.a.createElement("div",null,r.a.createElement(P,{segments:s,type:i}))))}}]),t}(n.PureComponent),L=Object(w.b)((function(e){return{weatherData:e.weatherData}}),null)(W),R={FETCH_WEATHER_INFO_SUCCESS:"FETCH_WEATHER_INFO_SUCCESS",FETCH_WEATHER_INFO_FAILURE:"FETCH_WEATHER_INFO_FAILURE",SWITCH_TYPE:"SWITCH_TYPE"},U=function(e){return{type:R.FETCH_WEATHER_INFO_SUCCESS,payload:e}},M=function(e,t){return function(a){return fetch("".concat("http://api.openweathermap.org/data/2.5/forecast","?q=").concat(e,"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&cnt=").concat(t)).then((function(e){return e.json()})).then((function(e){var t=function(e){var t=[];return(e||[]).forEach((function(e){var a={},n=e.dt_txt.split(" ")[0],r=t.find((function(e){return e.day===n}));r?(r.segments.push(e),r.averagetemp=(r.segments.reduce((function(e,t){return e+t.main.temp}),0)/r.segments.length).toFixed(2)):(a.day=n,a.segments=[e],t.push(a))})),t}(e.list);a(U(t))})).catch((function(e){}))}},B=R,z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData&&this.props.fetchData("Munich,de",40)}},{key:"render",value:function(){var e=this.props.isLoading;return r.a.createElement("div",{className:"App"},e?r.a.createElement(f.a,{component:"div",style:{backgroundColor:"#cfe8fc",height:"100vh",padding:100}},"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement(h,null),r.a.createElement(L,null)))}}]),t}(n.PureComponent),V=Object(w.b)((function(e){return{isLoading:e.isLoading}}),(function(e){return{fetchData:function(t,a){return e(M(t,a))}}}))(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(25),Y=a(39),q=a.n(Y),G=a(40),X={isLoading:!0,weatherData:[]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.FETCH_WEATHER_INFO_SUCCESS:return Object(E.a)({},e,{isLoading:!1,weatherData:t.payload});default:return e}},K=[q.a,G.a];var Q=function(e){return Object(J.c)($,e,J.a.apply(void 0,K))}(window.REDUX_INITIAL_DATA);i.a.render(r.a.createElement(w.a,{store:Q},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.1845d8ad.chunk.js.map